

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>PSF photometry classes &mdash; lightkurve 1.0.a1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> lightkurve
          

          
            
            <img src="../_static/lightkurve.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../tutorials/quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="targetpixelfile.html">TargetPixelFile classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="lightcurve.html">LightCurve classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="lightcurvefile.html">LightCurveFile classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="correctors.html">Systematics correction classes</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">PSF photometry classes</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">Utility functions</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/section1.html">Introduction to lightkurve</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/section2.html">Science with lightkurve</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/section3.html">Systematics correction using lightkurve</a></li>
</ul>
<p class="caption"><span class="caption-text">About lightkurve</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing and reporting issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing and acknowledging lightkurve</a></li>
<li class="toctree-l1"><a class="reference internal" href="../other_software.html">Other software</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">lightkurve</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">API documentation</a> &raquo;</li>
        
      <li>PSF photometry classes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/prf.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="module-lightkurve.prf">
<span id="psf-photometry-classes"></span><h1>PSF photometry classes<a class="headerlink" href="#module-lightkurve.prf" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="lightkurve.prf.KeplerPRF">
<em class="property">class </em><code class="descclassname">lightkurve.prf.</code><code class="descname">KeplerPRF</code><span class="sig-paren">(</span><em>channel</em>, <em>shape</em>, <em>column</em>, <em>row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lightkurve/prf.html#KeplerPRF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lightkurve.prf.KeplerPRF" title="Permalink to this definition">¶</a></dt>
<dd><p>Kepler’s Pixel Response Function as designed by <a class="reference internal" href="#r2d3bf0a39f5d-1" id="id1">[1]</a>.</p>
<p>This class provides the necessary interface to load Kepler PRF
calibration files and to create a model that can be fit as a function
of flux, center positions, width, and rotation angle.</p>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r2d3bf0a39f5d-1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id2">2</a>)</em> S. T. Bryson. The Kepler Pixel Response Function, 2010.
&lt;<a class="reference external" href="https://arxiv.org/abs/1001.0331">https://arxiv.org/abs/1001.0331</a>&gt;.</td></tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Objects from the KeplerPRF class are defined by a channel number, a pair of
dimensions (the size of the image), and a reference coordinate (bottom left
corner). In this example, we create a KeplerPRF object located at channel
#44 with dimension equals 10 x 10, reference row and column coordinate
equals (5, 5). After the object has been created, we may translate it to a
given center coordinate. Additionally, we can specify total flux, pixel
scales, and rotation around the object’s center.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">math</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">lightkurve</span> <span class="k">import</span> <span class="n">KeplerPRF</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kepprf</span> <span class="o">=</span> <span class="n">KeplerPRF</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="mi">44</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">column</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span> 
<span class="go">Downloading http://archive.stsci.edu/missions/kepler/fpc/prf</span>
<span class="go">/extracted/kplr13.4_2011265_prf.fits [Done]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prf</span> <span class="o">=</span> <span class="n">kepprf</span><span class="p">(</span><span class="n">flux</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">center_col</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">center_row</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<span class="gp">... </span>             <span class="n">scale_row</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">scale_col</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">rotation_angle</span><span class="o">=</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">prf</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">)</span> 
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Attributes:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>channel</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">KeplerTargetPixelFile.channel</p>
</dd>
<dt><strong>shape</strong> <span class="classifier-delimiter">:</span> <span class="classifier">(int, int)</span></dt>
<dd><p class="first last">KeplerTargetPixelFile.shape[1:]</p>
</dd>
<dt><strong>column</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">KeplerTargetPixelFile.column</p>
</dd>
<dt><strong>row</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">KeplerTargetPixelFile.row</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">__call__</span></code>(flux,&nbsp;center_col,&nbsp;center_row,&nbsp;…)</td>
<td>Call self as a function.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#lightkurve.prf.KeplerPRF.evaluate" title="lightkurve.prf.KeplerPRF.evaluate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">evaluate</span></code></a>(flux,&nbsp;center_col,&nbsp;center_row,&nbsp;…)</td>
<td>Interpolates the PRF model onto detector coordinates.</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="44%" />
<col width="56%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>plot</strong></td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lightkurve.prf.KeplerPRF.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>flux</em>, <em>center_col</em>, <em>center_row</em>, <em>scale_col</em>, <em>scale_row</em>, <em>rotation_angle</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lightkurve/prf.html#KeplerPRF.evaluate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lightkurve.prf.KeplerPRF.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolates the PRF model onto detector coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>flux</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">Total integrated flux of the PRF</p>
</dd>
<dt><strong>center_col, center_row</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">Column and row coordinates of the center</p>
</dd>
<dt><strong>scale_col, scale_row</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">Pixel scale in the column and row directions</p>
</dd>
<dt><strong>rotation_angle</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">Rotation angle in radians</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>prf_model</strong> <span class="classifier-delimiter">:</span> <span class="classifier">2D array</span></dt>
<dd><p class="first last">Two dimensional array representing the PRF values parametrized
by flux, centroids, widths, and rotation.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lightkurve.prf.KeplerPRF.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>*params</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lightkurve/prf.html#KeplerPRF.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lightkurve.prf.KeplerPRF.plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lightkurve.prf.PRFPhotometry">
<em class="property">class </em><code class="descclassname">lightkurve.prf.</code><code class="descname">PRFPhotometry</code><span class="sig-paren">(</span><em>scene_model</em>, <em>prior</em>, <em>loss_function=&lt;class 'oktopus.posterior.PoissonPosterior'&gt;</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lightkurve/prf.html#PRFPhotometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lightkurve.prf.PRFPhotometry" title="Permalink to this definition">¶</a></dt>
<dd><p>This class performs PRF Photometry on TPF-like files.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">lightkurve</span> <span class="k">import</span> <span class="n">KeplerTargetPixelFile</span><span class="p">,</span> <span class="n">SimpleKeplerPRF</span><span class="p">,</span> <span class="n">SceneModel</span><span class="p">,</span> <span class="n">PRFPhotometry</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">oktopus</span> <span class="k">import</span> <span class="n">UniformPrior</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tpf</span> <span class="o">=</span> <span class="n">KeplerTargetPixelFile</span><span class="p">(</span><span class="s2">&quot;https://archive.stsci.edu/missions/kepler/&quot;</span>
<span class="gp">... </span>                            <span class="s2">&quot;target_pixel_files/0084/008462852/&quot;</span>
<span class="gp">... </span>                            <span class="s2">&quot;kplr008462852-2013098041711_lpd-targ.fits.gz&quot;</span><span class="p">)</span> 
<span class="go">Downloading https://archive.stsci.edu/missions/kepler/target_pixel_files</span>
<span class="go">/0084/008462852/kplr008462852-2013098041711_lpd-targ.fits.gz [Done]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prf</span> <span class="o">=</span> <span class="n">tpf</span><span class="o">.</span><span class="n">get_prf_model</span><span class="p">()</span> 
<span class="go">Downloading http://archive.stsci.edu/missions/kepler/fpc/prf</span>
<span class="go">/extracted/kplr16.4_2011265_prf.fits [Done]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scene</span> <span class="o">=</span> <span class="n">SceneModel</span><span class="p">(</span><span class="n">prfs</span><span class="o">=</span><span class="n">prf</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">prior</span> <span class="o">=</span> <span class="n">UniformPrior</span><span class="p">(</span><span class="n">lb</span><span class="o">=</span><span class="p">[</span><span class="mf">1.2e5</span><span class="p">,</span> <span class="mf">230.</span><span class="p">,</span> <span class="mf">128.</span><span class="p">,</span><span class="mf">1e2</span><span class="p">],</span> <span class="n">ub</span><span class="o">=</span><span class="p">[</span><span class="mf">3.4e5</span><span class="p">,</span> <span class="mf">235.</span><span class="p">,</span> <span class="mf">133.</span><span class="p">,</span> <span class="mf">1e3</span><span class="p">])</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">phot</span> <span class="o">=</span> <span class="n">PRFPhotometry</span><span class="p">(</span><span class="n">scene</span><span class="p">,</span> <span class="n">prior</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">phot</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">tpf</span><span class="o">.</span><span class="n">flux</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">flux_fit</span> <span class="o">=</span> <span class="n">results</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">x_fit</span> <span class="o">=</span> <span class="n">results</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">y_fit</span> <span class="o">=</span> <span class="n">results</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">bkg_fit</span> <span class="o">=</span> <span class="n">results</span><span class="p">[:,</span> <span class="mi">3</span><span class="p">]</span> 
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Attributes:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>scene_model</strong> <span class="classifier-delimiter">:</span> <span class="classifier">instance of SceneModel</span></dt>
<dd><p class="first last">Model which will be fit to the data</p>
</dd>
<dt><strong>priors</strong> <span class="classifier-delimiter">:</span> <span class="classifier">instance of oktopus.JointPrior</span></dt>
<dd><p class="first last">Priors on the parameters that will be estimated</p>
</dd>
<dt><strong>loss_function</strong> <span class="classifier-delimiter">:</span> <span class="classifier">subclass of oktopus.LossFunction</span></dt>
<dd><p class="first last">Noise distribution associated with each random measurement</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#lightkurve.prf.PRFPhotometry.fit" title="lightkurve.prf.PRFPhotometry.fit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fit</span></code></a>(tpf_flux[,&nbsp;x0,&nbsp;cadences,&nbsp;method])</td>
<td>Fits the scene model to the given data in <code class="docutils literal notranslate"><span class="pre">tpf_flux</span></code>.</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="63%" />
<col width="37%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>get_residuals</strong></td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lightkurve.prf.PRFPhotometry.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>tpf_flux</em>, <em>x0=None</em>, <em>cadences='all'</em>, <em>method='powell'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lightkurve/prf.html#PRFPhotometry.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lightkurve.prf.PRFPhotometry.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits the scene model to the given data in <code class="docutils literal notranslate"><span class="pre">tpf_flux</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>tpf_flux</strong> <span class="classifier-delimiter">:</span> <span class="classifier">array-like</span></dt>
<dd><p class="first last">A pixel flux time-series, i.e., the pixel data, e.g,
KeplerTargetPixelFile.flux, such that (time, row, column) represents
the shape of <code class="docutils literal notranslate"><span class="pre">tpf_flux</span></code>.</p>
</dd>
<dt><strong>x0</strong> <span class="classifier-delimiter">:</span> <span class="classifier">array-like or None</span></dt>
<dd><p class="first last">Initial guesses on the parameters. The default is to use the mean
of the prior distribution.</p>
</dd>
<dt><strong>cadences</strong> <span class="classifier-delimiter">:</span> <span class="classifier">array-like of ints or str</span></dt>
<dd><p class="first last">A list or array that contains the cadences which will be fitted.
Default is to fit all cadences.</p>
</dd>
<dt><strong>kwargs</strong> <span class="classifier-delimiter">:</span> <span class="classifier">dict</span></dt>
<dd><p class="first last">Dictionary of additional parameters to be passed to
<cite>scipy.optimize.minimize</cite>.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>opt_params</strong> <span class="classifier-delimiter">:</span> <span class="classifier">array-like</span></dt>
<dd><p class="first last">Matrix with the optimized parameter values. The i-th line contain
the best parameter values at the i-th cadence. The order of the parameters
in every line follows the order of the <code class="docutils literal notranslate"><span class="pre">scene_model</span></code>.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lightkurve.prf.PRFPhotometry.get_residuals">
<code class="descname">get_residuals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lightkurve/prf.html#PRFPhotometry.get_residuals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lightkurve.prf.PRFPhotometry.get_residuals" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lightkurve.prf.SceneModel">
<em class="property">class </em><code class="descclassname">lightkurve.prf.</code><code class="descname">SceneModel</code><span class="sig-paren">(</span><em>prfs</em>, <em>bkg_model=&lt;function SceneModel.&lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lightkurve/prf.html#SceneModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lightkurve.prf.SceneModel" title="Permalink to this definition">¶</a></dt>
<dd><p>This class builds a generic model for a scene.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Attributes:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>prfs</strong> <span class="classifier-delimiter">:</span> <span class="classifier">list of callables</span></dt>
<dd><p class="first last">A list of prfs</p>
</dd>
<dt><strong>bkg_model</strong> <span class="classifier-delimiter">:</span> <span class="classifier">callable</span></dt>
<dd><p class="first last">A function that models the background variation.
Default is a constant background</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">__call__</span></code>(*params)</td>
<td>Call self as a function.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#lightkurve.prf.SceneModel.evaluate" title="lightkurve.prf.SceneModel.evaluate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">evaluate</span></code></a>(*params)</td>
<td><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="55%" />
<col width="45%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>gradient</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><strong>plot</strong></td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lightkurve.prf.SceneModel.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>*params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lightkurve/prf.html#SceneModel.evaluate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lightkurve.prf.SceneModel.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>flux</strong> <span class="classifier-delimiter">:</span> <span class="classifier">scalar or array-like</span></dt>
<dd><p class="first last">Total integrated flux of the PRF model</p>
</dd>
<dt><strong>center_col, center_row</strong> <span class="classifier-delimiter">:</span> <span class="classifier">scalar or array-like</span></dt>
<dd><p class="first last">Column and row coordinates of the center</p>
</dd>
<dt><strong>scale_col, scale_row</strong> <span class="classifier-delimiter">:</span> <span class="classifier">scalar or array-like</span></dt>
<dd><p class="first last">Pixel scale in the column and row directions</p>
</dd>
<dt><strong>rotation_angle</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">Rotation angle in radians</p>
</dd>
<dt><strong>bkg_params</strong> <span class="classifier-delimiter">:</span> <span class="classifier">scalar or array-like</span></dt>
<dd><p class="first last">Parameters for the background model</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lightkurve.prf.SceneModel.gradient">
<code class="descname">gradient</code><span class="sig-paren">(</span><em>*params</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lightkurve/prf.html#SceneModel.gradient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lightkurve.prf.SceneModel.gradient" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lightkurve.prf.SceneModel.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>*params</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lightkurve/prf.html#SceneModel.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lightkurve.prf.SceneModel.plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lightkurve.prf.SimpleKeplerPRF">
<em class="property">class </em><code class="descclassname">lightkurve.prf.</code><code class="descname">SimpleKeplerPRF</code><span class="sig-paren">(</span><em>channel</em>, <em>shape</em>, <em>column</em>, <em>row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lightkurve/prf.html#SimpleKeplerPRF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lightkurve.prf.SimpleKeplerPRF" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple model of KeplerPRF.</p>
<p>This class provides identical functionality as in KeplerPRF, except that
it is parametrized only by flux and center positions. The width scales
and angle are fixed to 1.0 and 0, respectivelly.</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">__call__</span></code>(flux,&nbsp;center_col,&nbsp;center_row)</td>
<td>Call self as a function.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#lightkurve.prf.SimpleKeplerPRF.evaluate" title="lightkurve.prf.SimpleKeplerPRF.evaluate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">evaluate</span></code></a>(flux,&nbsp;center_col,&nbsp;center_row)</td>
<td>Interpolates the PRF model onto detector coordinates.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#lightkurve.prf.SimpleKeplerPRF.gradient" title="lightkurve.prf.SimpleKeplerPRF.gradient"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gradient</span></code></a>(flux,&nbsp;center_col,&nbsp;center_row)</td>
<td>This function returns the gradient of the SimpleKeplerPRF model with respect to flux, center_col, and center_row.</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="44%" />
<col width="56%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>plot</strong></td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lightkurve.prf.SimpleKeplerPRF.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>flux</em>, <em>center_col</em>, <em>center_row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lightkurve/prf.html#SimpleKeplerPRF.evaluate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lightkurve.prf.SimpleKeplerPRF.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolates the PRF model onto detector coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>flux</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">Total integrated flux of the PRF</p>
</dd>
<dt><strong>center_col, center_row</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">Column and row coordinates of the center</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>prf_model</strong> <span class="classifier-delimiter">:</span> <span class="classifier">2D array</span></dt>
<dd><p class="first last">Two dimensional array representing the PRF values parametrized
by flux and centroids.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lightkurve.prf.SimpleKeplerPRF.gradient">
<code class="descname">gradient</code><span class="sig-paren">(</span><em>flux</em>, <em>center_col</em>, <em>center_row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lightkurve/prf.html#SimpleKeplerPRF.gradient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lightkurve.prf.SimpleKeplerPRF.gradient" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns the gradient of the SimpleKeplerPRF model with
respect to flux, center_col, and center_row.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>flux</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">Total integrated flux of the PRF</p>
</dd>
<dt><strong>center_col, center_row</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">Column and row coordinates of the center</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>grad_prf</strong> <span class="classifier-delimiter">:</span> <span class="classifier">list</span></dt>
<dd><p class="first last">Returns a list of arrays where the elements are the derivative
of the KeplerPRF model with respect to flux, center_col, and
center_row, respectively.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="lightkurve.prf.get_initial_guesses">
<code class="descclassname">lightkurve.prf.</code><code class="descname">get_initial_guesses</code><span class="sig-paren">(</span><em>data</em>, <em>ref_col</em>, <em>ref_row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lightkurve/prf.html#get_initial_guesses"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lightkurve.prf.get_initial_guesses" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the initial guesses for total flux, centers position, and PSF
width using the sample moments of the data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>data</strong> <span class="classifier-delimiter">:</span> <span class="classifier">2D array-like</span></dt>
<dd><p class="first last">Image data</p>
</dd>
<dt><strong>ref_col, ref_row</strong> <span class="classifier-delimiter">:</span> <span class="classifier">scalars</span></dt>
<dd><p class="first last">Reference column and row (coordinates of the bottom left corner)</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright lightkurve developers and contributors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0.a1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>